# django-ctf-platform

A Capture The Flag (CTF) platform built with Django and Docker, designed for learning and practicing web penetration testing. This project was developed as a Bachelor’s Thesis in Computer Engineering and aims to provide an environment where users can register, attempt security challenges, submit flags, and track their scores on a leaderboard.

## Key Features & Benefits

- **User Registration:** Allows users to create accounts and participate in challenges.
- **CTF Challenges:** Provides a variety of security challenges to test users' skills.
- **Flag Submission:** Enables users to submit flags and earn points upon successful completion.
- **Leaderboard:** Tracks user scores and ranks them based on their performance.
- **Dockerized Environment:** Ensures easy deployment and reproducibility of the platform.
- **Web Penetration Testing Focus:** Tailored challenges to enhance web security knowledge.

## Prerequisites & Dependencies

Before you begin, ensure you have the following installed:

- **Docker:** Used for containerization.  [Install Docker](https://docs.docker.com/get-docker/)
- **Node.js:** Required for building assets. [Install Node.js](https://nodejs.org/)
- **Python:** Required for running the Django application. [Install Python](https://www.python.org/downloads/)
- **pip:** Python package installer.  Usually installed with Python.

## Installation & Setup Instructions

1. **Clone the repository:**
   ```bash
   git clone https://github.com/Seiedsi/django-ctf-platform.git
   cd django-ctf-platform
   ```

2. **Build and run the Docker containers:**
   ```bash
   docker-compose up --build
   ```
   This command builds the Docker images and starts the containers defined in the `docker-compose.yml` file.

3.  **Access the platform:**
    Open your web browser and navigate to `http://localhost` (or the appropriate address if you've configured it differently).

4. **Apply Migrations:** If not automatically applied, apply migrations manually:
    ```bash
    docker exec -it <django-container-id> python manage.py migrate
    ```
   Replace `<django-container-id>` with the actual ID of your Django container. You can find this ID by running `docker ps`.

5. **Create a Superuser:** Create a superuser to access the Django admin panel:
   ```bash
    docker exec -it <django-container-id> python manage.py createsuperuser
   ```
   Follow the prompts to create your superuser account.

## Project Structure

```
├── .gitignore
└── CTF/
    ├── __init__.py
    ├── asgi.py
    ├── settings.py
    ├── urls.py
    ├── wsgi.py
    └── challenges/
        ├── __init__.py
        ├── admin.py
        ├── apps.py
        └── management/
            └── commands/
                ├── build_images.py
                ├── cleanup_scheduler.py
        └── migrations/
            ├── 0001_initial.py
            ├── 0002_alter_ctfchallenge_difficulty.py
            ├── 0003_alter_ctfchallenge_difficulty.py
            ├── 0004_ctfchallenge_type.py

```

## Important Files

### CTF/asgi.py
```py
"""
ASGI config for CTF project.

It exposes the ASGI callable as a module-level variable named ``application``.

For more information on this file, see
https://docs.djangoproject.com/en/4.2/howto/deployment/asgi/
"""

import os

from django.core.asgi import get_asgi_application

os.environ.setdefault("DJANGO_SETTINGS_MODULE", "CTF.settings")

application = get_asgi_application()
```

### CTF/settings.py
```py
"""
Django settings for CTF project.

Generated by 'django-admin startproject' using Django 4.2.16.

For more information on this file, see
https://docs.djangoproject.com/en/4.2/topics/settings/

For the full list of settings and their values, see
https://docs.djangoproject.com/en/4.2/ref/settings/
"""

from pathlib import Path
import os

# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent


# Quick-start development settings - unsui...
```

### CTF/urls.py
```py
"""
URL configuration for CTF project.

The `urlpatterns` list routes URLs to views. For more information please see:
    https://docs.djangoproject.com/en/4.2/topics/http/urls/
Examples:
Function views
    1. Add an import:  from my_app import views
    2. Add a URL to urlpatterns:  path('', views.home, name='home')
Class-based views
    1. Add an import:  from other_app.views import Home
    2. Add a URL to urlpatterns:  path('', Home.as_view(), name='home')
Including another URLconf
    1. Im...
```

### CTF/wsgi.py
```py
"""
WSGI config for CTF project.

It exposes the WSGI callable as a module-level variable named ``application``.

For more information on this file, see
https://docs.djangoproject.com/en/4.2/howto/deployment/wsgi/
"""

import os

from django.core.wsgi import get_asgi_application

os.environ.setdefault("DJANGO_SETTINGS_MODULE", "CTF.settings")

application = get_asgi_application()
```

### challenges/admin.py
```py
from django.contrib import admin
from .models import CTFChallenge, CompletedChallenge, ActiveContainer

admin.site.register(CTFChallenge)
admin.site.register(CompletedChallenge)
admin.site.register(ActiveContainer)
```

## Configuration Options

- **Django Settings:**  Modify the `CTF/settings.py` file to configure various Django settings, such as database settings, secret keys, and allowed hosts.

- **Docker Compose:** The `docker-compose.yml` file allows you to configure the Docker containers, including ports, environment variables, and dependencies.

## Contributing Guidelines

We welcome contributions to the project! To contribute:

1.  Fork the repository.
2.  Create a new branch for your feature or bug fix.
3.  Make your changes and commit them with descriptive messages.
4.  Submit a pull request.

Please follow the existing code style and conventions.

## License Information

License not specified.

## Acknowledgments

This project was developed as a Bachelor’s Thesis in Computer Engineering.
